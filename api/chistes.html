<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Buscador de Chistes</title>
<style>
    body {
  text-align: center;
  font-family: Arial;
}

p {
  font-size: 20px;
  margin: 10px;
}
</style>
</head>
<body>

  <h1> Buscador de Chistes</h1>

  <select id="categoria">
    <option value="random">Aleatorio</option>
    <option value="programming">Programaci√≥n</option>
    <option value="general">General</option>
  </select>

  <br><br>

  <button id="buscar">Buscar chiste</button>

  <p id="setup"></p>
  <p id="punchline"></p>

<script>
    function buscarChiste() {

  let categoria = document.getElementById("categoria").value;
  let url = "";

  if (categoria === "random") {
    url = "https://official-joke-api.appspot.com/random_joke";
  } else {
    url = "https://official-joke-api.appspot.com/jokes/" + categoria + "/random";
  }

  fetch(url)
    .then(function(response) {
      return response.json();
    })
    .then(function(data) {

      let chiste;

      if (categoria === "random") {
        chiste = data;
      } else {
        chiste = data[0];
      }

      document.getElementById("setup").textContent = chiste.setup;
      document.getElementById("punchline").textContent = chiste.punchline;
    });
}

document.getElementById("buscar").addEventListener("click", function() {
  buscarChiste();
});
</script>

</body>
</html>